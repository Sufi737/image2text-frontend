{"ast":null,"code":"var _jsxFileName = \"/home/sufyan/spring-boot-project/frontend/src/UploadButton.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UploadButton extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchJwtToken = () => {\n      axios.post('http://localhost:8080/authenticate', {\n        username: 'image-extract-info-user',\n        password: 'KA#$DlAQw^7d2eFOMetdd'\n      }).then(res => {\n        console.log(\"JWT token fetch\");\n        console.log(res);\n        this.setState({\n          jwtToken: res.data.jwt\n        });\n      });\n    };\n\n    this.processImage = () => {\n      this.fetchJwtToken();\n      console.log(this.state.jwtToken); // let file = this.props.image\n      // let formData = new FormData();\n      // formData.append('image', file)\n      // formData.append('selectedOptions', JSON.stringify(this.props.selectedOptions))\n      // console.log(this.props.selectedOptions)\n      // const config = {\n      //     headers: {\n      //         \"Origin\": \"http://localhost:3000\",\n      //         \"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJpbWFnZS1leHRyYWN0LWluZm8tdXNlciIsImV4cCI6MTY1Njg5ODAwNywiaWF0IjoxNjU2ODYyMDA3fQ.S-KF09ZqwURvbRucWerzX7PZOLlKUBKFzXzUkNRL6oU\"\n      //     }\n      // }\n      // axios.post(\n      //     'http://localhost:8080/image/extract',\n      //     formData,\n      //     config\n      // ).then(\n      //     (res) => {\n      //         console.log(res);\n      //         this.props.setResponse(res)\n      //     }\n      // )\n    };\n\n    this.state = {\n      jwtToken: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Upload\",\n        onClick: this.processImage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default UploadButton;","map":{"version":3,"names":["React","axios","UploadButton","Component","constructor","props","fetchJwtToken","post","username","password","then","res","console","log","setState","jwtToken","data","jwt","processImage","state","render"],"sources":["/home/sufyan/spring-boot-project/frontend/src/UploadButton.js"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n\nclass UploadButton extends React.Component {\n\n    constructor (props) {\n        super (props)\n        this.state = {\n          jwtToken: ''\n        }\n    }\n\n    fetchJwtToken = () => {\n        axios.post(\n            'http://localhost:8080/authenticate',\n            {\n                username: 'image-extract-info-user',\n                password: 'KA#$DlAQw^7d2eFOMetdd'\n            }\n        ).then(\n            (res) => {\n                console.log(\"JWT token fetch\")\n                console.log(res)\n                this.setState({jwtToken: res.data.jwt})\n            }\n        )\n    }\n\n    processImage = () => {\n        this.fetchJwtToken();\n        console.log(this.state.jwtToken)\n        // let file = this.props.image\n        // let formData = new FormData();\n        // formData.append('image', file)\n        // formData.append('selectedOptions', JSON.stringify(this.props.selectedOptions))\n        // console.log(this.props.selectedOptions)\n        // const config = {\n        //     headers: {\n        //         \"Origin\": \"http://localhost:3000\",\n        //         \"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJpbWFnZS1leHRyYWN0LWluZm8tdXNlciIsImV4cCI6MTY1Njg5ODAwNywiaWF0IjoxNjU2ODYyMDA3fQ.S-KF09ZqwURvbRucWerzX7PZOLlKUBKFzXzUkNRL6oU\"\n        //     }\n        // }\n        // axios.post(\n        //     'http://localhost:8080/image/extract',\n        //     formData,\n        //     config\n        // ).then(\n        //     (res) => {\n        //         console.log(res);\n        //         this.props.setResponse(res)\n        //     }\n        // )\n    }\n\n    render() {\n        return <div>\n            <input type=\"submit\" value=\"Upload\" onClick={this.processImage}/>\n        </div>\n    }\n}\n\nexport default UploadButton;"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,YAAN,SAA2BF,KAAK,CAACG,SAAjC,CAA2C;EAEvCC,WAAW,CAAEC,KAAF,EAAS;IAChB,MAAOA,KAAP;;IADgB,KAOpBC,aAPoB,GAOJ,MAAM;MAClBL,KAAK,CAACM,IAAN,CACI,oCADJ,EAEI;QACIC,QAAQ,EAAE,yBADd;QAEIC,QAAQ,EAAE;MAFd,CAFJ,EAMEC,IANF,CAOKC,GAAD,IAAS;QACLC,OAAO,CAACC,GAAR,CAAY,iBAAZ;QACAD,OAAO,CAACC,GAAR,CAAYF,GAAZ;QACA,KAAKG,QAAL,CAAc;UAACC,QAAQ,EAAEJ,GAAG,CAACK,IAAJ,CAASC;QAApB,CAAd;MACH,CAXL;IAaH,CArBmB;;IAAA,KAuBpBC,YAvBoB,GAuBL,MAAM;MACjB,KAAKZ,aAAL;MACAM,OAAO,CAACC,GAAR,CAAY,KAAKM,KAAL,CAAWJ,QAAvB,EAFiB,CAGjB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACH,CA/CmB;;IAEhB,KAAKI,KAAL,GAAa;MACXJ,QAAQ,EAAE;IADC,CAAb;EAGH;;EA4CDK,MAAM,GAAG;IACL,oBAAO;MAAA,uBACH;QAAO,IAAI,EAAC,QAAZ;QAAqB,KAAK,EAAC,QAA3B;QAAoC,OAAO,EAAE,KAAKF;MAAlD;QAAA;QAAA;QAAA;MAAA;IADG;MAAA;MAAA;MAAA;IAAA,QAAP;EAGH;;AAvDsC;;AA0D3C,eAAehB,YAAf"},"metadata":{},"sourceType":"module"}
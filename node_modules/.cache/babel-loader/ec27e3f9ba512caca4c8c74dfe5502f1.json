{"ast":null,"code":"var _jsxFileName = \"/home/sufyan/spring-boot-project/frontend/src/UploadButton.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UploadButton extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.fetchJwtToken = async () => {\n      axios.post('http://localhost:8080/authenticate', {\n        username: 'image-extract-info-user',\n        password: 'KA#$DlAQw^7d2eFOMetdd'\n      }).then(res => {\n        console.log(\"JWT token fetch\");\n        console.log(res);\n        token = res.data.jwt;\n        this.setState();\n      });\n    };\n\n    this.processImage = async () => {\n      await this.fetchJwtToken();\n      console.log(jwtToken); // let file = this.props.image\n      // let formData = new FormData();\n      // formData.append('image', file)\n      // formData.append('selectedOptions', JSON.stringify(this.props.selectedOptions))\n      // console.log(this.props.selectedOptions)\n      // const config = {\n      //     headers: {\n      //         \"Origin\": \"http://localhost:3000\",\n      //         \"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJpbWFnZS1leHRyYWN0LWluZm8tdXNlciIsImV4cCI6MTY1Njg5ODAwNywiaWF0IjoxNjU2ODYyMDA3fQ.S-KF09ZqwURvbRucWerzX7PZOLlKUBKFzXzUkNRL6oU\"\n      //     }\n      // }\n      // axios.post(\n      //     'http://localhost:8080/image/extract',\n      //     formData,\n      //     config\n      // ).then(\n      //     (res) => {\n      //         console.log(res);\n      //         this.props.setResponse(res)\n      //     }\n      // )\n    };\n\n    this.state = {\n      jwtToken: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Upload\",\n        onClick: this.processImage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default UploadButton;","map":{"version":3,"names":["React","axios","UploadButton","Component","constructor","props","fetchJwtToken","post","username","password","then","res","console","log","token","data","jwt","setState","processImage","jwtToken","state","render"],"sources":["/home/sufyan/spring-boot-project/frontend/src/UploadButton.js"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n\nclass UploadButton extends React.Component {\n\n    constructor (props) {\n        super (props)\n        this.state = {\n          jwtToken: ''\n        }\n    }\n\n    fetchJwtToken = async () => {\n        axios.post(\n            'http://localhost:8080/authenticate',\n            {\n                username: 'image-extract-info-user',\n                password: 'KA#$DlAQw^7d2eFOMetdd'\n            }\n        ).then(\n            (res) => {\n                console.log(\"JWT token fetch\")\n                console.log(res)\n                token = res.data.jwt\n                this.setState()\n            }\n        )\n    }\n\n    processImage = async () => {\n        await this.fetchJwtToken();\n        console.log(jwtToken)\n        // let file = this.props.image\n        // let formData = new FormData();\n        // formData.append('image', file)\n        // formData.append('selectedOptions', JSON.stringify(this.props.selectedOptions))\n        // console.log(this.props.selectedOptions)\n        // const config = {\n        //     headers: {\n        //         \"Origin\": \"http://localhost:3000\",\n        //         \"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJpbWFnZS1leHRyYWN0LWluZm8tdXNlciIsImV4cCI6MTY1Njg5ODAwNywiaWF0IjoxNjU2ODYyMDA3fQ.S-KF09ZqwURvbRucWerzX7PZOLlKUBKFzXzUkNRL6oU\"\n        //     }\n        // }\n        // axios.post(\n        //     'http://localhost:8080/image/extract',\n        //     formData,\n        //     config\n        // ).then(\n        //     (res) => {\n        //         console.log(res);\n        //         this.props.setResponse(res)\n        //     }\n        // )\n    }\n\n    render() {\n        return <div>\n            <input type=\"submit\" value=\"Upload\" onClick={this.processImage}/>\n        </div>\n    }\n}\n\nexport default UploadButton;"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,YAAN,SAA2BF,KAAK,CAACG,SAAjC,CAA2C;EAEvCC,WAAW,CAAEC,KAAF,EAAS;IAChB,MAAOA,KAAP;;IADgB,KAOpBC,aAPoB,GAOJ,YAAY;MACxBL,KAAK,CAACM,IAAN,CACI,oCADJ,EAEI;QACIC,QAAQ,EAAE,yBADd;QAEIC,QAAQ,EAAE;MAFd,CAFJ,EAMEC,IANF,CAOKC,GAAD,IAAS;QACLC,OAAO,CAACC,GAAR,CAAY,iBAAZ;QACAD,OAAO,CAACC,GAAR,CAAYF,GAAZ;QACAG,KAAK,GAAGH,GAAG,CAACI,IAAJ,CAASC,GAAjB;QACA,KAAKC,QAAL;MACH,CAZL;IAcH,CAtBmB;;IAAA,KAwBpBC,YAxBoB,GAwBL,YAAY;MACvB,MAAM,KAAKZ,aAAL,EAAN;MACAM,OAAO,CAACC,GAAR,CAAYM,QAAZ,EAFuB,CAGvB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACH,CAhDmB;;IAEhB,KAAKC,KAAL,GAAa;MACXD,QAAQ,EAAE;IADC,CAAb;EAGH;;EA6CDE,MAAM,GAAG;IACL,oBAAO;MAAA,uBACH;QAAO,IAAI,EAAC,QAAZ;QAAqB,KAAK,EAAC,QAA3B;QAAoC,OAAO,EAAE,KAAKH;MAAlD;QAAA;QAAA;QAAA;MAAA;IADG;MAAA;MAAA;MAAA;IAAA,QAAP;EAGH;;AAxDsC;;AA2D3C,eAAehB,YAAf"},"metadata":{},"sourceType":"module"}